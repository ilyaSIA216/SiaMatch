<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiaMatch - –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –≤ Telegram</title>
    <style>
        /* ========== –û–ë–©–ò–ï –°–¢–ò–õ–ò ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π —Ñ–æ–Ω –∫–∞–∫ –≤ –¢–∏–Ω–¥–µ—Ä–µ */
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
            min-height: 700px;
            position: relative;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 40px 30px;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* ========== –®–ê–ì 0: –ü–†–ò–í–ï–¢–°–¢–í–ò–ï ========== */
        #step-0 {
            background: #4CAF50;
            color: white;
            text-align: center;
            justify-content: center;
            align-items: center;
            padding: 60px 30px;
        }
        
        .welcome-container {
            width: 100%;
        }
        
        .app-logo {
            font-size: 60px;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .app-title {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
            color: white;
        }
        
        .welcome-text {
            font-size: 20px;
            margin: 30px 0;
            color: rgba(255,255,255,0.9);
            line-height: 1.5;
        }
        
        /* ========== –ö–ù–û–ü–ö–ò ========== */
        .btn {
            background: white;
            color: #4CAF50;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            max-width: 280px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            margin: 10px 0;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(0,0,0,0.15);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
        }
        
        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: none;
            border: none;
            font-size: 20px;
            color: #666;
            cursor: pointer;
            padding: 10px;
            z-index: 10;
        }
        
        /* ========== –§–û–†–ú–´ ========== */
        .step-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px 0 40px 0;
        }
        
        .step-dot {
            width: 12px;
            height: 12px;
            background: #E0E0E0;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .step-dot.active {
            background: #4CAF50;
            transform: scale(1.2);
        }
        
        h2 {
            color: #333;
            font-size: 28px;
            margin-bottom: 15px;
        }
        
        .step-description {
            color: #666;
            font-size: 16px;
            margin-bottom: 40px;
            line-height: 1.5;
        }
        
        .input-group {
            margin-bottom: 30px;
        }
        
        input, select {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #E0E0E0;
            border-radius: 15px;
            font-size: 18px;
            transition: all 0.3s;
            background: white;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .form-note {
            font-size: 14px;
            color: #888;
            margin-top: 8px;
            text-align: center;
        }
        
        /* ========== –ó–ê–ì–†–£–ó–ö–ê –§–û–¢–û ========== */
        .photo-upload-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .photo-drop-area {
            border: 3px dashed #E0E0E0;
            border-radius: 20px;
            padding: 40px 20px;
            cursor: pointer;
            transition: all 0.3s;
            background: #FAFAFA;
        }
        
        .photo-drop-area:hover {
            border-color: #4CAF50;
            background: #F9FFF9;
        }
        
        .photo-icon {
            font-size: 48px;
            color: #4CAF50;
            margin-bottom: 15px;
        }
        
        .photo-text {
            color: #666;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .photo-subtext {
            color: #888;
            font-size: 14px;
        }
        
        .photo-preview {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
        }
        
        .photo-preview.show {
            display: block;
        }
        
        .file-input-hidden {
            display: none;
        }
        
        /* ========== –≠–ö–†–ê–ù –ü–†–û–í–ï–†–ö–ò ========== */
        .verification-screen {
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
        }
        
        .verification-icon {
            font-size: 80px;
            margin-bottom: 30px;
            color: #4CAF50;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .verification-title {
            font-size: 28px;
            color: #333;
            margin-bottom: 20px;
        }
        
        .verification-text {
            color: #666;
            font-size: 18px;
            line-height: 1.6;
            max-width: 300px;
        }
        
        .loading-dots {
            display: inline-flex;
            margin-top: 30px;
            gap: 8px;
        }
        
        .loading-dots span {
            width: 12px;
            height: 12px;
            background: #4CAF50;
            border-radius: 50%;
            animation: pulse-dots 1.5s infinite;
        }
        
        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes pulse-dots {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        /* ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ========== */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: #4CAF50;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideDown 0.3s ease-out forwards;
        }
        
        @keyframes slideDown {
            to { transform: translateX(-50%) translateY(0); }
        }
        
        /* ========== –î–ê–®–ë–û–†–î ========== */
        .dashboard-nav {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: white;
            border-bottom: 1px solid #eee;
        }
        
        .nav-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .nav-btn.active {
            color: #4CAF50;
            background: #E8F5E9;
        }
        
        .nav-btn:hover {
            background: #F5F5F5;
        }
        
        .tab-pane {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* ========== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ========== */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .container {
                min-height: 600px;
                border-radius: 20px;
            }
            
            .step {
                padding: 30px 20px;
            }
            
            h2 {
                font-size: 24px;
            }
            
            .btn {
                padding: 16px 30px;
                font-size: 18px;
            }
        }
        
        /* ========== –£–¢–ò–õ–ò–¢–´ ========== */
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .full-width {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–≥ 0: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
        <div id="step-0" class="step">
            <div class="welcome-container">
                <div class="app-logo">üíñ</div>
                <div class="app-title">üçÄ SiaMatch</div>
                <div class="welcome-text" id="welcome-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∑–Ω–∞–∫–æ–º—Å—Ç–≤!</div>
                <button class="btn" onclick="startOnboarding()">–ù–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ</button>
            </div>
        </div>

        <!-- –®–∞–≥ 1: –ò–º—è -->
        <div id="step-1" class="step hidden">
            <button class="back-btn" onclick="goToStep(0)">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="step-content">
                <div class="progress-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>

                <h2>–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?</h2>
                <p class="step-description">
                    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ
                </p>

                <div class="input-group">
                    <input type="text" id="name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–Ω–Ω–∞" maxlength="30">
                    <p class="form-note">–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã</p>
                </div>

                <button class="btn" onclick="saveName()">–î–∞–ª–µ–µ</button>
            </div>
        </div>

        <!-- –®–∞–≥ 2: –í–æ–∑—Ä–∞—Å—Ç -->
        <div id="step-2" class="step hidden">
            <button class="back-btn" onclick="goToStep(1)">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="step-content">
                <div class="progress-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>

                <h2>–°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?</h2>
                <p class="step-description">
                    –£–∫–∞–∂–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤
                </p>

                <div class="input-group">
                    <select id="age-select">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç</option>
                    </select>
                    <p class="form-note">–û—Ç 18 –¥–æ 60 –ª–µ—Ç</p>
                </div>

                <button class="btn" onclick="saveAge()">–î–∞–ª–µ–µ</button>
            </div>
        </div>

        <!-- –®–∞–≥ 3: –ì–æ—Ä–æ–¥ -->
        <div id="step-3" class="step hidden">
            <button class="back-btn" onclick="goToStep(2)">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="step-content">
                <div class="progress-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>

                <h2>–ò–∑ –∫–∞–∫–æ–≥–æ –≤—ã –≥–æ—Ä–æ–¥–∞?</h2>
                <p class="step-description">
                    –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥ –∏–∑ —Å–ø–∏—Å–∫–∞
                </p>

                <div class="input-group">
                    <select id="city-select">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                    </select>
                </div>

                <button class="btn" onclick="saveCity()">–î–∞–ª–µ–µ</button>
            </div>
        </div>

        <!-- –®–∞–≥ 4: –û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ -->
        <div id="step-4" class="step hidden">
            <button class="back-btn" onclick="goToStep(3)">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="step-content">
                <div class="progress-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                </div>

                <h2>–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ —Ñ–æ—Ç–æ</h2>
                <p class="step-description">
                    –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—à–µ –ª—É—á—à–µ–µ —Ñ–æ—Ç–æ. –û–Ω–æ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ
                </p>

                <div class="photo-upload-container">
                    <div class="photo-drop-area" onclick="document.getElementById('main-photo-input').click()">
                        <div class="photo-icon">üì∏</div>
                        <div class="photo-text">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</div>
                        <div class="photo-subtext">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: –¥–æ 5MB</div>
                    </div>
                    
                    <img id="main-photo-preview" class="photo-preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ">
                    
                    <input type="file" id="main-photo-input" class="file-input-hidden" 
                           accept="image/*" onchange="previewMainPhoto(event)">
                </div>

                <button class="btn" onclick="saveMainPhoto()">–î–∞–ª–µ–µ</button>
            </div>
        </div>

        <!-- –®–∞–≥ 5: –°–µ–ª—Ñ–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
        <div id="step-5" class="step hidden">
            <button class="back-btn" onclick="goToStep(4)">‚Üê –ù–∞–∑–∞–¥</button>
            
            <div class="step-content">
                <div class="progress-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot active"></div>
                </div>

                <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏</h2>
                <p class="step-description">
                    –°–¥–µ–ª–∞–π—Ç–µ —Å–µ–ª—Ñ–∏ —Å–µ–π—á–∞—Å, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã
                </p>

                <div class="photo-upload-container">
                    <div class="photo-drop-area" onclick="document.getElementById('selfie-input').click()">
                        <div class="photo-icon">ü§≥</div>
                        <div class="photo-text">–°–¥–µ–ª–∞–π—Ç–µ —Å–µ–ª—Ñ–∏ —Å–µ–π—á–∞—Å</div>
                        <div class="photo-subtext">–≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    </div>
                    
                    <img id="selfie-preview" class="photo-preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–µ–ª—Ñ–∏">
                    
                    <input type="file" id="selfie-input" class="file-input-hidden" 
                           accept="image/*" onchange="previewSelfie(event)">
                </div>

                <button class="btn" onclick="saveSelfie()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</button>
            </div>
        </div>

        <!-- –®–∞–≥ 6: –û–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
        <div id="step-6" class="step hidden">
            <div class="verification-screen">
                <div class="verification-icon">‚è≥</div>
                <div class="verification-title">–î–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</div>
                <div class="verification-text">
                    –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.<br>
                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
                </div>
                
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 7: –î–∞—à–±–æ—Ä–¥ (–ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è) -->
        <div id="step-7" class="step hidden">
            <div class="dashboard-nav">
                <button class="nav-btn active" onclick="showTab('swipe')">üë•</button>
                <button class="nav-btn" onclick="showTab('matches')">üíå</button>
                <button class="nav-btn" onclick="showTab('profile')">üë§</button>
                <button class="nav-btn" onclick="openAdminPanel()">üëë</button>
            </div>

            <div class="step-content">
                <!-- –í–∫–ª–∞–¥–∫–∞ —Å–≤–∞–π–ø–æ–≤ -->
                <div id="tab-swipe" class="tab-pane">
                    <div class="text-center" style="margin-top: 60px;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üë•</div>
                        <h2>–ù–∞–π—Ç–∏ –ø–∞—Ä—É</h2>
                        <p class="step-description">
                            –ù–∞—á–Ω–∏—Ç–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∞–Ω–∫–µ—Ç—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                        </p>
                        <button class="btn" onclick="startSwiping()">–ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫</button>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –º—ç—Ç—á–µ–π -->
                <div id="tab-matches" class="tab-pane hidden">
                    <h2>–í–∞—à–∏ –º—ç—Ç—á–∏</h2>
                    <div id="matches-list" style="flex: 1; margin-top: 20px;">
                        <div class="text-center" style="padding: 40px; color: #666;">
                            <div style="font-size: 48px; margin-bottom: 20px;">üíå</div>
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤–∑–∞–∏–º–Ω—ã—Ö —Å–∏–º–ø–∞—Ç–∏–π</p>
                            <p class="form-note mt-20">–ö–æ–≥–¥–∞ –≤—ã –ø–æ–Ω—Ä–∞–≤–∏—Ç–µ—Å—å –∫–æ–º—É-—Ç–æ, –∏ —ç—Ç–æ –±—É–¥–µ—Ç –≤–∑–∞–∏–º–Ω–æ, –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p>
                        </div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                <div id="tab-profile" class="tab-pane hidden">
                    <h2>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
                    <div id="profile-info" style="flex: 1; margin-top: 20px;">
                        <div style="background: #F9F9F9; padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div id="profile-avatar" style="width: 80px; height: 80px; background: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: bold; margin-right: 20px;">
                                    ?
                                </div>
                                <div>
                                    <h3 id="profile-name" style="margin-bottom: 5px;">-</h3>
                                    <p id="profile-age-city" style="color: #666;">-</p>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                                <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: bold; color: #4CAF50;" id="profile-likes">0</div>
                                    <div style="color: #666; font-size: 14px;">–õ–∞–π–∫–æ–≤</div>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: bold; color: #4CAF50;" id="profile-matches">0</div>
                                    <div style="color: #666; font-size: 14px;">–ú—ç—Ç—á–µ–π</div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-secondary full-width" onclick="editProfile()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                        <button class="btn-secondary full-width mt-20" onclick="logout()">üö™ –í—ã–π—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let userProfile = {
            telegramId: null,
            username: null,
            firstName: null,
            age: null,
            city: null,
            mainPhoto: null,
            selfiePhoto: null,
            status: 'new',
            likes: 0,
            matches: 0,
            createdAt: null
        };

        // –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏
        const russianCities = [
            "–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
            "–ö–∞–∑–∞–Ω—å", "–ß–µ–ª—è–±–∏–Ω—Å–∫", "–û–º—Å–∫", "–°–∞–º–∞—Ä–∞", "–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "–£—Ñ–∞", "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
            "–í–æ—Ä–æ–Ω–µ–∂", "–ü–µ—Ä–º—å", "–í–æ–ª–≥–æ–≥—Ä–∞–¥", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä", "–°–∞—Ä–∞—Ç–æ–≤", "–¢—é–º–µ–Ω—å", "–¢–æ–ª—å—è—Ç—Ç–∏",
            "–ò–∂–µ–≤—Å–∫", "–ë–∞—Ä–Ω–∞—É–ª", "–£–ª—å—è–Ω–æ–≤—Å–∫", "–ò—Ä–∫—É—Ç—Å–∫", "–•–∞–±–∞—Ä–æ–≤—Å–∫", "–Ø—Ä–æ—Å–ª–∞–≤–ª—å",
            "–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫", "–ú–∞—Ö–∞—á–∫–∞–ª–∞", "–¢–æ–º—Å–∫", "–û—Ä–µ–Ω–±—É—Ä–≥", "–ö–µ–º–µ—Ä–æ–≤–æ"
        ].sort((a, b) => a.localeCompare(b, 'ru'));

        // ========== –ú–û–ö TELEGRAM WEBAPP ==========
        (function() {
            if (!window.Telegram || !Telegram.WebApp) {
                console.log('üîß –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –ò–º–∏—Ç–∏—Ä—É–µ–º Telegram WebApp');
                
                const mockUsers = [
                    { first_name: '–ê–Ω–Ω–∞', id: 123456789 },
                    { first_name: '–ò–≤–∞–Ω', id: 987654321 },
                    { first_name: '–ú–∞—Ä–∏—è', id: 456789123 },
                    { first_name: '–ê–ª–µ–∫—Å–µ–π', id: 321654987 }
                ];
                
                const randomUser = mockUsers[Math.floor(Math.random() * mockUsers.length)];
                
                window.Telegram = {
                    WebApp: {
                        initDataUnsafe: {
                            user: randomUser
                        },
                        expand: () => console.log('[DEBUG] Telegram expanded'),
                        ready: () => {
                            console.log('[DEBUG] Telegram ready');
                            document.getElementById('welcome-text').textContent = `–ü—Ä–∏–≤–µ—Ç, ${randomUser.first_name}!`;
                        },
                        showAlert: (msg) => {
                            console.log('[DEBUG] Alert:', msg);
                            alert(msg);
                        },
                        showConfirm: (msg, callback) => {
                            console.log('[DEBUG] Confirm:', msg);
                            if (confirm(msg)) callback(true);
                            else callback(false);
                        },
                        openLink: (url) => {
                            console.log('[DEBUG] Opening link:', url);
                            window.open(url, '_blank');
                        }
                    }
                };
            }
            
            window.tg = window.Telegram.WebApp;
        })();

        // ========== –£–¢–ò–õ–ò–¢–´ ==========
        function showNotification(text, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = text;
            notification.style.background = type === 'success' ? '#4CAF50' : 
                                          type === 'error' ? '#f44336' : '#2196F3';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideDown 0.3s ease-out reverse forwards';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        function goToStep(stepNumber) {
            console.log(`–ü–µ—Ä–µ—Ö–æ–¥ –∫ —à–∞–≥—É ${stepNumber}`);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —à–∞–≥–∏
            for (let i = 0; i <= 7; i++) {
                const element = document.getElementById(`step-${i}`);
                if (element) element.classList.add('hidden');
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —à–∞–≥
            const target = document.getElementById(`step-${stepNumber}`);
            if (target) {
                target.classList.remove('hidden');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                updateProgressIndicator(stepNumber);
                
                // –ï—Å–ª–∏ –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥, –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                if (stepNumber === 7) {
                    updateProfileInfo();
                }
            }
        }

        function updateProgressIndicator(currentStep) {
            if (currentStep < 1 || currentStep > 5) return;
            
            const indicators = document.querySelectorAll('.step-dot');
            indicators.forEach((dot, index) => {
                if (index < currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // ========== –§–£–ù–ö–¶–ò–ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò ==========
        function startOnboarding() {
            console.log('–ù–∞—á–∞–ª–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞');
            goToStep(1);
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏
            populateAgeSelect();
            populateCitySelect();
        }

        function populateAgeSelect() {
            const select = document.getElementById('age-select');
            
            // –û—á–∏—â–∞–µ–º, –æ—Å—Ç–∞–≤–ª—è—è –ø–µ—Ä–≤—ã–π option
            while (select.options.length > 1) {
                select.removeChild(select.lastChild);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç–∞ 18-60
            for (let age = 18; age <= 60; age++) {
                const option = document.createElement('option');
                option.value = age;
                option.textContent = `${age} –ª–µ—Ç`;
                select.appendChild(option);
            }
            
            console.log(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${select.options.length - 1} –≤–æ–∑—Ä–∞—Å—Ç–æ–≤`);
        }

        function populateCitySelect() {
            const select = document.getElementById('city-select');
            
            // –û—á–∏—â–∞–µ–º, –æ—Å—Ç–∞–≤–ª—è—è –ø–µ—Ä–≤—ã–π option
            while (select.options.length > 1) {
                select.removeChild(select.lastChild);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≥–æ—Ä–æ–¥–∞
            russianCities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                select.appendChild(option);
            });
            
            console.log(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${select.options.length - 1} –≥–æ—Ä–æ–¥–æ–≤`);
        }

        function saveName() {
            const nameInput = document.getElementById('name-input');
            const name = nameInput.value.trim();
            
            if (!name) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è', 'error');
                nameInput.focus();
                return;
            }
            
            if (name.length < 2) {
                showNotification('–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞', 'error');
                nameInput.focus();
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã
            const nameRegex = /^[A-Za-z–ê-–Ø–∞-—è–Å—ë\s\-]+$/;
            if (!nameRegex.test(name)) {
                showNotification('–ò–º—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã', 'error');
                nameInput.focus();
                return;
            }
            
            userProfile.firstName = name;
            console.log('–ò–º—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ:', userProfile.firstName);
            goToStep(2);
        }

        function saveAge() {
            const ageSelect = document.getElementById('age-select');
            const age = parseInt(ageSelect.value);
            
            if (!age || age < 18 || age > 60) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç –æ—Ç 18 –¥–æ 60 –ª–µ—Ç', 'error');
                ageSelect.focus();
                return;
            }
            
            userProfile.age = age;
            console.log('–í–æ–∑—Ä–∞—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω:', userProfile.age);
            goToStep(3);
        }

        function saveCity() {
            const citySelect = document.getElementById('city-select');
            const city = citySelect.value;
            
            if (!city) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥', 'error');
                citySelect.focus();
                return;
            }
            
            userProfile.city = city;
            console.log('–ì–æ—Ä–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω:', userProfile.city);
            goToStep(4);
        }

        function previewMainPhoto(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
            if (!file.type.startsWith('image/')) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', 'error');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('–§–æ—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ 5MB', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('main-photo-preview');
                preview.src = e.target.result;
                preview.classList.add('show');
                
                userProfile.mainPhoto = e.target.result;
                console.log('–û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
                
                showNotification('–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
            };
            
            reader.onerror = function() {
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞', 'error');
            };
            
            reader.readAsDataURL(file);
        }

        function previewSelfie(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
            if (!file.type.startsWith('image/')) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('selfie-preview');
                preview.src = e.target.result;
                preview.classList.add('show');
                
                userProfile.selfiePhoto = e.target.result;
                console.log('–°–µ–ª—Ñ–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
                
                showNotification('–°–µ–ª—Ñ–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
            };
            
            reader.onerror = function() {
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞', 'error');
            };
            
            reader.readAsDataURL(file);
        }

        function saveMainPhoto() {
            if (!userProfile.mainPhoto) {
                showNotification('–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—à–µ —Ñ–æ—Ç–æ', 'error');
                return;
            }
            
            console.log('–û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ');
            goToStep(5);
        }

        function saveSelfie() {
            if (!userProfile.selfiePhoto) {
                showNotification('–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ–ª—Ñ–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è', 'error');
                return;
            }
            
            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
            tg.showConfirm(
                '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É?\n\n–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.',
                function(confirmed) {
                    if (confirmed) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                        userProfile.status = 'pending';
                        userProfile.createdAt = new Date().toISOString();
                        userProfile.telegramId = tg.initDataUnsafe.user.id;
                        userProfile.username = tg.initDataUnsafe.user.username || 'user_' + Date.now();
                        
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                        localStorage.setItem('sia_user', JSON.stringify(userProfile));
                        localStorage.setItem('sia_all_users', JSON.stringify([userProfile]));
                        
                        console.log('–ê–Ω–∫–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É:', userProfile);
                        
                        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —ç–∫—Ä–∞–Ω—É –æ–∂–∏–¥–∞–Ω–∏—è
                        goToStep(6);
                        
                        // –ò–º–∏—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π (3 —Å–µ–∫—É–Ω–¥—ã)
                        setTimeout(() => {
                            // –û–¥–æ–±—Ä—è–µ–º –∞–Ω–∫–µ—Ç—É
                            userProfile.status = 'approved';
                            userProfile.likes = Math.floor(Math.random() * 50);
                            userProfile.matches = Math.floor(Math.random() * 10);
                            localStorage.setItem('sia_user', JSON.stringify(userProfile));
                            
                            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                            const allUsers = JSON.parse(localStorage.getItem('sia_all_users') || '[]');
                            const userIndex = allUsers.findIndex(u => u.telegramId === userProfile.telegramId);
                            if (userIndex !== -1) {
                                allUsers[userIndex] = userProfile;
                            }
                            localStorage.setItem('sia_all_users', JSON.stringify(allUsers));
                            
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∞—à–±–æ—Ä–¥
                            goToStep(7);
                            
                            showNotification('üéâ –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞.');
                        }, 3000);
                    }
                }
            );
        }

        // ========== –§–£–ù–ö–¶–ò–ò –î–ê–®–ë–û–†–î–ê ==========
        function updateProfileInfo() {
            if (!userProfile.firstName) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä
            const avatar = document.getElementById('profile-avatar');
            avatar.textContent = userProfile.firstName.charAt(0).toUpperCase();
            if (userProfile.mainPhoto) {
                avatar.style.backgroundImage = `url(${userProfile.mainPhoto})`;
                avatar.style.backgroundSize = 'cover';
                avatar.style.backgroundPosition = 'center';
                avatar.textContent = '';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
            document.getElementById('profile-name').textContent = userProfile.firstName;
            document.getElementById('profile-age-city').textContent = 
                `${userProfile.age} –ª–µ—Ç, ${userProfile.city}`;
            document.getElementById('profile-likes').textContent = userProfile.likes || 0;
            document.getElementById('profile-matches').textContent = userProfile.matches || 0;
        }

        function showTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-pane').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(`tab-${tabName}`).classList.remove('hidden');
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            const btn = document.querySelector(`.nav-btn[onclick*="${tabName}"]`);
            if (btn) btn.classList.add('active');
        }

        function startSwiping() {
            showNotification('–§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!', 'info');
            
            // –î–µ–º–æ: –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ª–∞–π–∫–∏
            userProfile.likes = (userProfile.likes || 0) + 3;
            localStorage.setItem('sia_user', JSON.stringify(userProfile));
            updateProfileInfo();
        }

        function editProfile() {
            if (confirm('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Å–±—Ä–æ—Å–∏—Ç –≤–∞—à—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
                userProfile.status = 'new';
                localStorage.setItem('sia_user', JSON.stringify(userProfile));
                goToStep(0);
            }
        }

        function logout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                localStorage.removeItem('sia_user');
                window.location.reload();
            }
        }

        function openAdminPanel() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ –∞–¥–º–∏–Ω–∞
            const adminData = {
                isAdmin: true,
                user: userProfile,
                allUsers: JSON.parse(localStorage.getItem('sia_all_users') || '[]')
            };
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–∫—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
            const adminWindow = window.open('', '_blank');
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—É—é –∞–¥–º–∏–Ω–∫—É –ø—Ä—è–º–æ –∑–¥–µ—Å—å
            const adminHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å SiaMatch</title>
                    <style>
                        body { font-family: Arial; padding: 20px; background: #f5f5f5; }
                        .header { background: #4CAF50; color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
                        .user-card { background: white; padding: 15px; border-radius: 10px; margin-bottom: 10px; display: flex; align-items: center; }
                        .user-avatar { width: 50px; height: 50px; background: #4CAF50; border-radius: 50%; margin-right: 15px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; }
                        .search { width: 100%; padding: 10px; margin-bottom: 20px; border: 2px solid #4CAF50; border-radius: 5px; }
                        .btn { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å SiaMatch</h1>
                        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                    </div>
                    
                    <input type="text" class="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –≥–æ—Ä–æ–¥—É..." onkeyup="searchUsers(this.value)">
                    
                    <div id="users-list">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</p>
                    </div>
                    
                    <script>
                        let allUsers = ${JSON.stringify(adminData.allUsers)};
                        
                        function renderUsers(users) {
                            const container = document.getElementById('users-list');
                            if (users.length === 0) {
                                container.innerHTML = '<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                                return;
                            }
                            
                            container.innerHTML = users.map(user => \`
                                <div class="user-card">
                                    <div class="user-avatar">\${user.firstName?.charAt(0) || '?'}</div>
                                    <div style="flex: 1;">
                                        <h3>\${user.firstName || '–ë–µ–∑ –∏–º–µ–Ω–∏'}, \${user.age || '?'}</h3>
                                        <p>üìç \${user.city || '–ù–µ —É–∫–∞–∑–∞–Ω'} ‚Ä¢ –°—Ç–∞—Ç—É—Å: <span style="color: \${user.status === 'approved' ? '#4CAF50' : user.status === 'pending' ? '#FF9800' : '#F44336'}">
                                            \${user.status === 'approved' ? '–û–¥–æ–±—Ä–µ–Ω' : user.status === 'pending' ? '–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ' : '–ù–æ–≤—ã–π'}
                                        </span></p>
                                        <p style="font-size: 12px; color: #666;">ID: \${user.telegramId || '–ù–µ—Ç'}</p>
                                    </div>
                                    <button class="btn" onclick="openChat('\${user.telegramId}')">üí¨ –ß–∞—Ç</button>
                                </div>
                            \`).join('');
                        }
                        
                        function searchUsers(query) {
                            if (!query) {
                                renderUsers(allUsers);
                                return;
                            }
                            const filtered = allUsers.filter(user => 
                                (user.firstName?.toLowerCase().includes(query.toLowerCase())) ||
                                (user.city?.toLowerCase().includes(query.toLowerCase()))
                            );
                            renderUsers(filtered);
                        }
                        
                        function openChat(userId) {
                            alert('–û—Ç–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ID: ' + userId + '\\n\\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è –±—ã —á–∞—Ç.');
                        }
                        
                        // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
                        renderUsers(allUsers);
                    <\/script>
                </body>
                </html>
            `;
            
            adminWindow.document.write(adminHTML);
            adminWindow.document.close();
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ SiaMatch –∑–∞–ø—É—â–µ–Ω–æ');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Telegram
            try {
                tg.expand();
                tg.ready();
                
                // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const tgUser = tg.initDataUnsafe?.user;
                if (tgUser?.first_name) {
                    document.getElementById('welcome-text').textContent = `–ü—Ä–∏–≤–µ—Ç, ${tgUser.first_name}!`;
                    
                    // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω—è–µ–º –∏–º—è –µ—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ
                    const nameInput = document.getElementById('name-input');
                    if (nameInput && !nameInput.value) {
                        nameInput.value = tgUser.first_name;
                    }
                }
            } catch (error) {
                console.log('Telegram WebApp –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ–º –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            try {
                const savedUser = localStorage.getItem('sia_user');
                if (savedUser) {
                    userProfile = JSON.parse(savedUser);
                    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', userProfile);
                    
                    if (userProfile.status === 'approved') {
                        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–¥–æ–±—Ä–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∞—à–±–æ—Ä–¥
                        goToStep(7);
                        showTab('profile');
                    } else if (userProfile.status === 'pending') {
                        // –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
                        goToStep(6);
                    } else {
                        // –ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                        goToStep(0);
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if (!localStorage.getItem('sia_all_users')) {
                const testUsers = [
                    {
                        telegramId: 111111111,
                        firstName: '–ê–Ω–Ω–∞',
                        age: 24,
                        city: '–ú–æ—Å–∫–≤–∞',
                        status: 'approved',
                        likes: 45,
                        matches: 12,
                        createdAt: '2024-01-15T10:30:00Z'
                    },
                    {
                        telegramId: 222222222,
                        firstName: '–ò–≤–∞–Ω',
                        age: 28,
                        city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                        status: 'approved',
                        likes: 32,
                        matches: 8,
                        createdAt: '2024-01-16T14:20:00Z'
                    },
                    {
                        telegramId: 333333333,
                        firstName: '–ú–∞—Ä–∏—è',
                        age: 22,
                        city: '–ö–∞–∑–∞–Ω—å',
                        status: 'pending',
                        likes: 0,
                        matches: 0,
                        createdAt: '2024-01-17T09:15:00Z'
                    }
                ];
                localStorage.setItem('sia_all_users', JSON.stringify(testUsers));
            }
        });
    </script>
</body>
</html>
